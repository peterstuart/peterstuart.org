<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss">
    <link rel="stylesheet" href="../../css/tufte.css">
    <link rel="stylesheet" href="../../css/pandoc.css">
    <link rel="stylesheet" href="../../css/pandoc-solarized.css">
    <link rel="stylesheet" href="../../css/default.css">
    <title>Peter Stuart - Quickly Opening .env Files with Projectile</title>
  </head>
  <body>
    <nav>
  <p>
    <a href="../../">Home</a>
  </p>
</nav>

<article>
  <h1>Quickly Opening .env Files with Projectile</h1>
  <p class="subtitle">
    by Peter Stuart on March  9, 2020
  </p>
  <section>
    <p>I use <a href="https://github.com/bbatsov/projectile">Projectile</a> to manage projects in <a href="https://www.gnu.org/software/emacs">Emacs</a>, and <code>.env</code> files to manage environment variables for those projects. I edit the <code>.env</code> files often enough that I’d like to be able to open them quickly, but they aren’t accessible using <code>projectile-find-file</code> because they are not tracked by <code>git</code>. I wrote this function to quickly open the <code>.env</code> file in the project root, or create one if it doesn’t exist:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>(<span class="kw">defun</span><span class="fu"> projectile-env </span>(&amp;optional suffix)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>  <span class="st">&quot;Open .env file in the project root.&quot;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>  (interactive)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>  (<span class="kw">let</span> ((env-file-path</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>         (expand-file-name</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a>          (concat <span class="st">&quot;.env&quot;</span> suffix)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a>          (projectile-project-root))))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a>    (find-file env-file-path)))</span></code></pre></div>
<p>It supports an optional <code>suffix</code> argument, which I use to open <code>.env</code> files with suffixes, like <code>.env.local</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>(<span class="kw">defun</span><span class="fu"> projectile-env-local </span>()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>  <span class="st">&quot;Open .env.local file in the project root.&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>  (interactive)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>  (projectile-env <span class="st">&quot;.local&quot;</span>))</span></code></pre></div>
<p>I bind all the variations of <code>projectile-env</code> with the prefix <code>C-c C-p e</code>, followed by a single key (usually the first letter of the suffix to the file name):</p>
<table>
<thead>
<tr class="header">
<th>File</th>
<th>Key Binding</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>.env</code></td>
<td><code>C-c C-p e e</code></td>
</tr>
<tr class="even">
<td><code>.env.local</code></td>
<td><code>C-c C-p e l</code></td>
</tr>
<tr class="odd">
<td><code>.env.test</code></td>
<td><code>C-c C-p e t</code></td>
</tr>
<tr class="even">
<td><code>.env.example</code></td>
<td><code>C-c C-p e x</code></td>
</tr>
</tbody>
</table>
  </section>
</article>


  </body>
</html>
